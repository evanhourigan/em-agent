version: 2

models:
  - name: dora_example
    description: Example DORA metrics view (placeholder)
    columns:
      - name: metric
        tests: []
      - name: value
        tests: []
  - name: dora_lead_time
    description: Lead time for changes derived from events_raw (first commit to first deploy)
    columns:
      - name: delivery_id
        tests: []
      - name: first_commit_at
        tests: []
      - name: first_deploy_at
        tests: []
      - name: lead_time_hours
        tests: []
  - name: pr_idle_time
    description: Time from PR opened to first review activity
    columns:
      - name: delivery_id
        tests: []
      - name: opened_at
        tests: []
      - name: first_review_at
        tests: []
      - name: idle_hours
        tests: []
  - name: deployment_frequency
    description: Daily deployment counts from deployment events
    columns:
      - name: day
        tests: []
      - name: deployments
        tests: []
  - name: change_fail_rate
    description: Daily fraction of failed deployments
    columns:
      - name: day
        tests: []
      - name: failures
        tests: []
      - name: total
        tests: []
      - name: change_fail_rate
        tests: []
  - name: mttr
    description: Time from failure to successful restore per delivery
    columns:
      - name: delivery_id
        tests: []
      - name: failed_at
        tests: []
      - name: restored_at
        tests: []
      - name: mttr_hours
        tests: []
